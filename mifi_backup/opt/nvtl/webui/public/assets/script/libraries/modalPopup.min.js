var modalPopup=function(){var t,i={};return i.createWindow=function(i,o,e,n,a,d,l){var r=i?"modalPopup":"modalPopup noTitle",s="string"==typeof i?$("<i/>").html(i).text():i;d=d||function(){},l=l||function(){};var c=a||[],u=[];$.each(c,function(t){var i=this.trigger||function(){},o=$("<i/>").html(this.text).text();u[t]={text:o,class:this.className,click:function(){i(),$(this).dialog("destroy").remove()}}}),t=$("<div></div>").append(o).dialog({modal:!0,resizable:!1,dialogClass:r,width:e,height:n,title:s,draggable:!1,buttons:u,open:function(){d(),$(this).parent().find("button.primary").focus()},close:function(){l(),$(this).dialog("destroy").remove()}})},i.loadPage=function(i,o,e,n,a,d){e=e||900,n=n||700,a=a||function(){},d=d||function(){};$.get(o,function(o){$("#dialog").html(o),t=$("<div></div>").append(o).dialog({modal:!0,resizable:!1,width:e,height:n,title:i,draggable:!1,close:function(){$(this).dialog("destroy").remove(),d()}}),a()})},i.destroyWindow=function(){$(t).dialog("destroy").remove()},i}();