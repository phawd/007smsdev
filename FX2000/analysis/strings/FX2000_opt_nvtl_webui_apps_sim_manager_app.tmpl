<tmpl_if isHidden>
   <div class="notification app error">
       <tmpl_var _("webui", "webui_app_hidden_text")>
   </div>
<tmpl_else>
	<script type="text/javascript">
		/* <![CDATA[ */
		var pollingTime = 5000;
		var retrievalTime = 3000;
		var stopPolling = false;
		var isPopupExists = false;
		var stopAllOtherPolls = false;
		var ipptEnabled = <tmpl_var IPPTEnabled>;
		var ApnDropdownValues = new Array();
		$(function()
			getSimInformation();
			<tmpl_if IN_SET(simSwitchStatus, 1)>
				processWindow(false);
			</tmpl_if>
			<tmpl_if showApnDropdown>
				if(("<tmpl_var AddSimMgrApnError>" == "<tmpl_var _('webui', 'adv_sim_manager_apn_blank_error_text')>") || ("<tmpl_var AddSimMgrApnError>" == "<tmpl_var _('webui', 'adv_sim_manager_apn_invalid_error_text')>")) {
					AddApn.style.display="inline-block";
					inputAddApn.style.display="inline-block";
					document.getElementById("AddSimMgrApn").setAttribute("name","AddSimMgrApn");		
				else{
					<tmpl_foreach APNDropdownOptions as option>
						ApnDropdownValues.push("<tmpl_var option.val>");
					</tmpl_foreach>
					var isPreDefinedAPN = false;
					for(i = 0; i < ApnDropdownValues.length; i++) {
						if(ApnDropdownValues[i] =="<tmpl_var SimMgrApn>") 
						{	
							isPreDefinedAPN = true;
							break;
					if(isPreDefinedAPN) {
						AddApn.style.display="none";
						inputAddApn.style.display="none";
						document.getElementById("AddSimMgrApn").removeAttribute("name");
			</tmpl_if>
			$("#SIMPinAction").change(function() {
				var selectedValue = $(this).find(":selected").val();
				if(selectedValue == "selectOption") {
					$(this).closest(".table").find(".currentPin").hide();
					$(this).closest(".table").find(".changePin").hide();
				} else {
					$(this).closest(".table").find(".currentPin").show();
					$(this).closest(".table").find(".changePin").show();
				if (selectedValue == "changePin") {
					<tmpl_if SIMPinNewShow>	
						$(this).closest(".table").find(".changePin").show();
						<tmpl_if SIMPinNewLocked>
							$(this).closest(".table").find(".changePin").prop("disabled", true);
						<tmpl_else>
							$(this).closest(".table").find(".changePin").prop("disabled", false);
						</tmpl_if>
					</tmpl_if>
				} else {
					$(this).closest(".table").find(".changePin").hide();
			// Initialize our fancy toggle checkboxes.
			if (jQuery.fn.slideButton) {
				<tmpl_if showSimManagerCellularDataEnable>
					$("#NetworksCellularDataEnable").slideButton({
						change : function($input){
							if($input.is(":checked") === false ) {
								showConfirmation($input.is(":checked"), $input);							
							} else {
								processCellularData($input.is(":checked"), $input);							
							}
					});
				</tmpl_if>
				<tmpl_if AutomaticSimSwitchingEnableShow>
					$("#AutomaticSimSwitchingEnable").slideButton({
						change : function($input){
							if($input.is(":checked") === false ) {
								processSimSwitching($input.is(":checked"), $input);
							} else {
								processSimSwitching($input.is(":checked"), $input);
							}
					});
				</tmpl_if>
			<tmpl_if SimMgrApnShow>
				<tmpl_unless SimMgrApnLocked>
					<tmpl_unless isSimReady> 
						$("#SimMgrApn").attr('disabled','disabled');
						$("#SimMgrApnProfileAuthentication").attr('disabled','disabled');
						$("#SimMgrApnProfileUsername").attr('disabled', 'disabled');
						$("#SimMgrApnProfilePassword").attr('disabled','disabled');
						<tmpl_if IN_SET(simStatusValue, SIMSTATUS_NOT_FOUND)>
							$("#SimMgrApn").val("");
							<tmpl_if showApnAuthentication>
								$("#SimMgrApnProfileAuthentication").val(0).uniform();
								$("#SimMgrApnProfileUsername").val("");
								$("#SimMgrApnProfilePassword").val("");
							</tmpl_if>
						</tmpl_if>
					</tmpl_unless>	
				</tmpl_unless>
			</tmpl_if>
			<tmpl_if showApnAuthentication>
				toggleAuthenticationOptions("<tmpl_var SimMgrApnProfileAuthentication>");
				$("#SimMgrApnProfileAuthentication").on("change", function() {
                                	toggleAuthenticationOptions(this.value);
                        	});
                        	$(".input span.toggle-password").click(function () {
	                                $(this).toggleClass("eye eye-slash");
	                                if( $("input[id=SimMgrApnProfilePassword]").attr("type") == "password") {
	                                        $("input[id=SimMgrApnProfilePassword]").attr("type", "text");
	                                } else {
	                                        $("input[id=SimMgrApnProfilePassword]").attr("type", "password");
	                                }
	                        });
			</tmpl_if>
		<tmpl_if showApnAuthentication>
			function toggleAuthenticationOptions(state) {
				if(state == 0) {
	                                $("#SimMgrApnProfileUsernameRow").hide();
	                                $("#SimMgrApnProfilePasswordRow").hide();
	                        } else {
	                                $("#SimMgrApnProfileUsernameRow").show();
	                                $("#SimMgrApnProfilePasswordRow").show();
	                        }
		</tmpl_if>
		function APNChange(){	
			var apnDropValue=document.getElementById("SimMgrApn").value;
			if(apnDropValue=="Add APN"){
				AddApn.style.display="inline-block";
				inputAddApn.style.display="inline-block";
				document.getElementById("SimMgrApn").removeAttribute("name");
				document.getElementById("AddSimMgrApn").setAttribute("name","AddSimMgrApn");
			else{
				AddApn.style.display="none";
				inputAddApn.style.display="none";
				document.getElementById("SimMgrApn").setAttribute("name","SimMgrApn");
				document.getElementById("AddSimMgrApn").removeAttribute("name");
		<tmpl_if AutomaticSimSwitchingEnableShow>
			<tmpl_if IN_SET(simStatusValue, SIMSTATUS_PIN_LOCKED, SIMSTATUS_PUK_LOCKED)>
                                $("#AutomaticSimSwitchingEnable").attr('disabled','disabled');
                        <tmpl_else>
                                $("#AutomaticSimSwitchingEnable").attr('disabled', false);
                        </tmpl_if>
		</tmpl_if>
		function showConfirmation(bool, $cellularElem) {
		        modalPopup.createWindow('<tmpl_var _("webui", "webui_modal_title")>', "<p><tmpl_var _('webui', 'wwan_settings_cellular_off_confirmation_text')></p>", 430, 250, [{
		                text : '<tmpl_var _("webui", "webui_modal_cancel_button")>',
		                className : "cancel",
		                trigger : function () {
		                    undoChange($cellularElem);
		                }
		        }, {
		                text : '<tmpl_var _("webui", "webui_modal_confirm_button")>',
		                className : "primary",
		                trigger : function() {
		                        processCellularData(bool, $cellularElem)
		                }
		        }], null, function(){
				undoChange($cellularElem);
		        });
		    return false;
		function processCellularData(bool, $cellularElem)
			if (jQuery.fn.slideButton) $cellularElem.slideButton("addLoader");
			var url = (bool) ? "<tmpl_udf GET_URI('sim_manager_enable_cellular_data')>" : "<tmpl_udf GET_URI('sim_manager_disable_cellular_data')>";
			$.ajax({
				url : url,
				type : "POST",
				data : {
					gSecureToken : "<tmpl_var gSecureToken>"
				dataType : "json",
				success : function(data, textStatus, xhr){
					// If no network connected, success event still occurs.
					// We need to implicitly see an xhr.status greater than 0 to know we've actually
					// made contact.
					if ((xhr.readyState == 4 ) && (xhr.status == 0)) {
						undoChange($cellularElem);
				error : function(xhr, textStatus, errorThrown){
					undoChange($cellularElem);
				complete : function(xhr, textStatus){
					if (jQuery.fn.slideButton) $cellularElem.slideButton("removeLoader");
		function getSimInformation() 
			if(stopAllOtherPolls == true) {
                                getSimInfoTimeout = 80000;
                                console.log("stop others getSimInfoTimeout is " + getSimInfoTimeout);
                        } else {
                                getSimInfoTimeout = 1;
                                console.log("no need to stop others getSimInfoTimeout is " + getSimInfoTimeout);
                        }
                        setTimeout(
                        function() {
				$.ajax({
            			url : "<tmpl_udf GET_URI('sim_manager_sim_information_refresh')>",
            			type : "GET",
            			dataType : "json",
				success : function(data) {
					if(data["simSwitchStatus"] == 1) {
						modalPopup.destroyWindow();
						processWindow(false);
					$("#simManagerTable").empty();
					if(data["simInformationList"].length > 0){
						var title = '<thead><tr>';
						title += '<th class="activeState"><tmpl_var _("webui", "adv_sim_manager_active_sim_state_label")></th>';
						title += '<th class="simSlot"><tmpl_var _("webui", "adv_sim_manager_sim_slot_label")></th>';
						title += '<th class="simIMSI"><tmpl_var _("webui", "adv_sim_manager_imsi_label")></th>';
						title += '<th class="carrier"><tmpl_var _("webui", "adv_sim_manager_carrier_label")></th>';
						title += '<th class="connStatus"><tmpl_var _("webui", "adv_sim_manager_connection_status_label")></th>';
						title += '<th class="pinLock"><tmpl_var _("webui", "adv_sim_manager_sim_pin_lock_label")></th>';
						title += '<th class="simPriority"><tmpl_var _("webui", "adv_sim_manager_sim_priority_label")></th>';
						title += '</tr></thead>';
						$("#simManagerTable").append(title);
						$.each(data.simInformationList, function(idx,item) {
							var index=idx+1;
							var slotId = "activeSlot" + index;
							var simIMSI = item.imsi;
							var simICCID = item.iccid;
							var row = '<tbody><tr>';
							row += '<td class="activeState">';
							if((item.simState != 0) && (item.simState != 3)) {
								if(item.isSimMatched == "true") {
									row += '<input type="radio" name="activeSlot" id="' + slotId + '" checked="checked" onchange=\'processWindow(true, "' + simIMSI + '", "' + simICCID + '")\' >';
								} else {
									row += '<input type="radio" name="activeSlot" id="' + slotId + '" onchange=\'processWindow(true, "' + simIMSI + '", "' + simICCID + '")\' >';
								}
							} else {
								row += '<input type="radio" name="activeSlot" id="' + slotId + '" disabled="disabled" />';
							}
							row += '</td>';
							row += '<td><p class="simSlot">' + item.slotNum + '</p></td>';
							row += '<td><p class="simIMSI">' + item.imsi + '</p></td>';
							row += '<td><p class="carrier">' + item.carrier + '</p></td>';
							row += '<td><p class="connStatus">' + item.connStatus + '</p></td>';
							row += '<td><p class="pinLock">' + item.pinLock + '</p></td>';
							row += '<td><p class="simPriority">' + item.priority + '</p></td>';
							row += '</tr></tbody>';
							$("#simManagerTable").append(row);
						});
				error : function(xhr, textStatus, errorThrown) {
					// If auth session has ended, force a new login with a fresh GET.
                			if( (xhr.status == 401) || (xhr.status == 403) || (xhr.status == 406) ) window.location.replace(window.location.href);
				complete : function(xhr, textStatus) {
					setTimeout(getSimInformation, pollingTime);			
			        }
			}, getSimInfoTimeout);
		function processWindow(bool, simIMSI, simICCID)
			var title = null;
    			var content = "<div id='simManagerSpinnerTable'></div>";
    			var width = 450;
    			var height = 300;
    			var btns = null;
    			var close = null;
			var closeOnEsc = false;
			if(bool && (simIMSI || simICCID)) {
				changeSimSlot(simIMSI, simICCID);
			var open = function() {
				$(".ui-dialog-titlebar-close").hide();
				$("#simManagerSpinnerTable").append("<div id='simManagerSpinnerTableInner'></div>");
				isPopupExists = true;				
				var tableRow = $("<div id='simManagerSpinner'>");
				tableRow.append(
					"<div class='row'>" +
    					"<div class='ig_icn_lg ig_loading'></div>" +
    					"<p><tmpl_var _('webui', 'adv_sim_manager_sim_switching_text')></p>" +
    					"</div>"
				tableRow.append("</div>");
				$("#simManagerSpinnerTableInner").append(tableRow);
				setTimeout(function() {
					if(isPopupExists) {
                                        	modalPopup.destroyWindow();
                                        	failureWindow();
                                }, 90000);
				if( ! bool)
                                {
                                      setTimeout(checkSimStatus, retrievalTime);
                                }
			modalPopup.createWindow(title, content, width, height, btns, open, close, closeOnEsc);
		function successWindow()
			var title = null;
    			var content = "<div id='simManagerSpinnerTable'></div>";
    			var width = 450;
    			var height = 300;
    			var btns = null;
    			var close = null;
			var closeOnEsc = false;
    			var open = function() {
				$(".ui-dialog-titlebar-close").hide();
    				$("#simManagerSpinnerTable").append("<div id='simManagerSpinnerTableInner'></div>");
				var tableRow = $("<div id='simManagerSpinner'>");
				tableRow.append(
					"<div class='row'>" +
    					"<div class='ig_icn_lg ig_success'></div>" +
    					"<p><tmpl_var _('webui', 'adv_sim_manager_sim_switch_success_text')></p>" +
    					"</div>" +
    					"<button type='button' id='successOkButton' class='primary' onclick='window.location.reload();'>" +
						"<tmpl_var _('webui', 'webui_modal_ok_button')>" +
					"</button>"
				tableRow.append("</div>");
				$("#simManagerSpinnerTableInner").append(tableRow);
		   	};
    			modalPopup.createWindow(title, content, width, height, btns, open, close, closeOnEsc);
		function failureWindow()
			var title = null;
                        var content = "<div id='simManagerSpinnerTable'></div>";
                        var width = 450;
                        var height = 300;
                        var btns = null;
                        var close = null;
			var closeOnEsc = false;
                        var open = function() {
				$(".ui-dialog-titlebar-close").hide();
                                $("#simManagerSpinnerTable").append("<div id='simManagerSpinnerTableInner'></div>");
                                var tableRow = $("<div id='simManagerSpinner'>");
                                tableRow.append(
                                        "<div class='row'>" +
                                        "<div class='ig_icn_lg ig_failure'></div>" +
                                        "<p><tmpl_var _('webui', 'adv_sim_manager_sim_switch_failure_text')></p>" +
                                        "</div>" +
                                        "<button type='button' id='failureOkButton' class='primary' onclick='window.location.reload();'>" +
                                                "<tmpl_var _('webui', 'webui_modal_ok_button')>" +
                                        "</button>"
                                );
                                tableRow.append("</div>");
                                $("#simManagerSpinnerTableInner").append(tableRow);
                        };
			modalPopup.createWindow(title, content, width, height, btns, open, close, closeOnEsc);
		function changeSimSlot(imsi,iccid) {
			if(ipptEnabled == 1) stopAllOtherPolls = true;
			if ($.statusBar && stopAllOtherPolls) {
				console.log("stopping statusbar as stopallotherpolls enabled");
                        	$.statusBar("stop");
                	}
			var url = "<tmpl_udf GET_URI('sim_manager_sim_switch_slot')>";
		      	$.ajax({
				url : url,
		            	type : "POST",
		            	data : {
	                       		gSecureToken : "<tmpl_var gSecureToken>",
	                       		simImsi : imsi,
					simICCID : iccid
	                  	},
			        dataType : "json",
				success : function(data, textStatus, xhr){
					if ((xhr.readyState == 4 ) && (xhr.status == 200)) {
				            	setTimeout(checkSimStatus, retrievalTime);
				        }               
			        error : function(xhr, textStatus, errorThrown){
					modalPopup.destroyWindow();
					failureWindow();			         
					isPopupExists = false;
			        },
			        complete : function(xhr, textStatus) {
									
			        }
		function checkSimStatus()
			if(stopAllOtherPolls == true) {
                        	getSimStatusTimeout = 80000;
                                console.log("stop others getSimStatusTimeout is " + getSimStatusTimeout);
                        } else {
                                getSimStatusTimeout = 1;
                                console.log("no need to stop others getSimStatusTimeout is " + getSimStatusTimeout);
                        }
			setTimeout(
                	function() {
                        	if ($.statusBar && stopAllOtherPolls == true) {
                                	console.log("resuming statusbar");
                                	$.statusBar("start");
                        	}
                        	stopAllOtherPolls = false;
				$.ajax({
				url: "<tmpl_udf GET_URI('sim_manager_check_sim_status')>",
				type : "GET",
	            		dataType : "json",
	            		success : function(data, textStatus, xhr){
					// If no network connected, success event still occurs.
					// We need to implicitly see an xhr.status greater than 0 to know we've actually
					// made contact.
					if ((xhr.readyState == 4 ) && (xhr.status == 200)) {
						if(data.simSwitchStatus == 3) {
							stopPolling = true;
							isPopupExists = false;
							modalPopup.destroyWindow();
							successWindow();
						} else if(data.simSwitchStatus == 2) {
							stopPolling = true;
							isPopupExists = false;
							modalPopup.destroyWindow();
							failureWindow();
				error : function(xhr, textStatus, errorThrown) {
					modalPopup.destroyWindow();
					failureWindow();
					isPopupExists = false;
				complete : function(xhr, textStatus) {
					if(stopPolling == false) {
			                	setTimeout(checkSimStatus, retrievalTime);
			                }
			}, getSimStatusTimeout);
		function undoChange($el)
			if (jQuery.fn.slideButton) $el.slideButton("undo");
		function processSimSwitching(bool, $simElem)
			if (jQuery.fn.slideButton) $simElem.slideButton("addLoader");
			var url = (bool) ? "<tmpl_udf GET_URI('sim_manager_enable_sim_switching')>" : "<tmpl_udf GET_URI('sim_manager_disable_sim_switching')>";
			$.ajax({
				url : url,
				type : "POST",
				data : {
					gSecureToken : "<tmpl_var gSecureToken>"
				dataType : "json",
				success : function(data, textStatus, xhr){
					// If no network connected, success event still occurs.
					// We need to implicitly see an xhr.status greater than 0 to know we've actually
					// made contact.
					if ((xhr.readyState == 4 ) && (xhr.status == 0)) {
						undoChange($simElem);
				error : function(xhr, textStatus, errorThrown){
					undoChange($simElem);
				complete : function(xhr, textStatus){
					if (jQuery.fn.slideButton) $simElem.slideButton("removeLoader");
		/* ]]> */
	</script>
	<tmpl_if isLocked>
	    <div class="notification app error">
		<tmpl_var _("webui", "webui_app_locked_text")>
	    </div>
	</tmpl_if>
	<tmpl_if errorCount>
		<div class="notification app error">
			<div class="notification_inner">
					<tmpl_var _("webui", "webui_save_code_failed_text")>
				</p>
			</div>
		</div>
	</tmpl_if>
	<tmpl_if gPostSuccess>
		<div class="notification app success">
			<div class="notification_inner">
					<tmpl_var _("webui", "webui_save_code_success_text")>
				</p>
			</div>
		</div>
	</tmpl_if>
	<tmpl_if IN_SET(wrongPIN, "true")>
		<div class="notification app error">
			<div class="notification_inner">
					<tmpl_var _("webui", "adv_sim_manager_invalid_pin_error_text")>
				</p>
			</div>
		</div>
	</tmpl_if>
	<tmpl_if IN_SET(wrongPUK, "true")>
		<div class="notification app error">
			<div class="notification_inner">
					<tmpl_var _("webui", "adv_sim_manager_invalid_puk_error_text")>
				</p>
			</div>
		</div>
	</tmpl_if>
	<h2 class="sectionHead"><tmpl_var _("webui", "adv_sim_manager_sim_management_header_text")></h2>
	<tmpl_if IN_SET(simStatusValue, SIMSTATUS_PUK_LOCKED)>
		<div class="note">
			<p><tmpl_var _("webui", "adv_sim_manager_puk_locked_intro_text")></p>
		</div>
	<tmpl_else>
		<div class="note">
			<p><tmpl_udf GET_PO_TEXT("adv_sim_manager_intro_text", gProductName)></p>
		</div>
	</tmpl_if>
	<tmpl_if IN_SET(simStatusValue, SIMSTATUS_READY, SIMSTATUS_UNLOCKED, SIMSTATUS_PIN_LOCKED, SIMSTATUS_PUK_LOCKED)>
		<tmpl_if showSimManagerCellularDataEnable>
			<div class="toggleSettingContainer align-field">
				<div class="form-group">
					<label for="NetworksCellularDataEnable"><strong><tmpl_var _("webui", "sim_manager_cellular_data_label")></strong>
					</label>
					<div class="toggle">
						<input class="toggleSwitchCheckbox" type="checkbox" id="NetworksCellularDataEnable" name="NetworksCellularDataEnable"<tmpl_if IN_SET(cellularData, "on")> checked="checked"</tmpl_if><tmpl_if isLocked> disabled="disabled"</tmpl_if><tmpl_if NetworksCellularDataEnableLocked> disabled="disabled"</tmpl_if>/>
					</div>
				</div>
			</div><!--/.toggleSettingContainer-->
			<p class="note"><tmpl_var _("webui", "sim_manager_cellular_data_note_text")></p>
		</tmpl_if>		
		<tmpl_if AutomaticSimSwitchingEnableShow>
			<div class="toggleSettingContainer align-field">
				<div class="form-group">
					<label for="AutomaticSimSwitchingEnable"><strong><tmpl_var _("webui", "adv_sim_manager_sim_switching_label")></strong>
					</label>
					<div class="toggle">
						<input class="toggleSwitchCheckbox" type="checkbox" id="AutomaticSimSwitchingEnable" name="AutomaticSimSwitchingEnable"<tmpl_if IN_SET(simSwitchEnabled, "on", "1")> checked="checked"</tmpl_if><tmpl_if isLocked> disabled="disabled"</tmpl_if><tmpl_if AutomaticSimSwitchingEnableLocked> disabled="disabled"</tmpl_if> <tmpl_if IN_SET(numOfSims, "1")> disabled="disabled"</tmpl_if> <tmpl_if IN_SET(simStatusValue, SIMSTATUS_PIN_LOCKED,SIMSTATUS_PUK_LOCKED)> disabled="disabled"</tmpl_if> />
					</div>
				</div>
			</div><!--/.toggleSettingContainer-->
		</tmpl_if>
	</tmpl_if>
	<tmpl_if IN_SET(simStatusValue, SIMSTATUS_READY, SIMSTATUS_UNLOCKED, SIMSTATUS_PIN_LOCKED, SIMSTATUS_PUK_LOCKED)>
		<fieldset class="first">
			<h3 class="sectionHead"><tmpl_var _("webui", "adv_sim_manager_status_label")></h3>
			<p class="note"><tmpl_var _("webui", "adv_sim_manager_sim_state_change_note_text")></p>
			<table id="simManagerTable">
				<colgroup>
					<col class="activeState" />
		                	<col class="simSlot" />
		                	<col class="simIMSI" />
		                	<col class="carrier" />
		                	<col class="connStatus" />
		                	<col class="pinLock" />
		                	<col class="simPriority" />
            			</colgroup>
	            		<thead>
		            		<tr>
		            			<th><tmpl_var _("webui", "adv_sim_manager_active_sim_state_label")></th>
		            			<th><tmpl_var _("webui", "adv_sim_manager_sim_slot_label")></th>
		            			<th><tmpl_var _("webui", "adv_sim_manager_imsi_label")></th>
		            			<th><tmpl_var _("webui", "adv_sim_manager_carrier_label")></th>
		            			<th><tmpl_var _("webui", "adv_sim_manager_connection_status_label")></th>
		            			<th><tmpl_var _("webui", "adv_sim_manager_sim_pin_lock_label")></th>
		            			<th><tmpl_var _("webui", "adv_sim_manager_sim_priority_label")></th>
		            		</tr>
	            		</thead>
	            		<tbody>
		        		<tmpl_foreach simInformationList as item>
			            		<tr>
			            			<td class="activeState">
			            				<input type="radio" name="activeSlot" id="activeSlot<tmpl_var (item.__index__ + 1)>"  <tmpl_if IN_SET(item.isSimMatched, "true")> checked="checked"</tmpl_if>  <tmpl_if IN_SET(item.simState, "0", "3")> disabled="disabled" </tmpl_if> onchange='processWindow(true, "<tmpl_var item.imsi>", "<tmpl_var item.iccid>")' />
			            			</td>
			            			<td><p class="simSlot"><tmpl_var item.slotNum></p></td>
			            			<td><p class="simIMSI"><tmpl_var item.imsi></p></td>
			            			<td><p class="carrier"><tmpl_var item.carrier></p></td>
			            			<td><p class="connStatus"><tmpl_var item.connStatus></p></td>
			            			<td><p class="pinLock"><tmpl_var item.pinLock></p></td>
			            			<td><p class="simPriority"><tmpl_var item.priority></p></td>
			            		</tr>
		            		</tmpl_foreach>
	            		</tbody>
			</table>
			<br />
		</fieldset>
	</tmpl_if>
	<tmpl_if IN_SET(simStatusValue, SIMSTATUS_NOT_FOUND, SIMSTATUS_ERROR)>
		<div class="form-group noblock clearfix">
			<div class="label">
				<strong><tmpl_var _("webui", "adv_sim_manager_status_label")></strong>
			</div>
			<div class="input" id="simStatus"><tmpl_var simStatus></div>
		</div>
	</tmpl_if>		
	<form method="POST" action="<tmpl_udf GET_URI('sim_manager')>">
		<input type="hidden" name="gSecureToken" id="gSecureToken" value="<tmpl_var gSecureToken>" />
		<tmpl_if IN_SET(simStatusValue, SIMSTATUS_READY, SIMSTATUS_UNLOCKED, SIMSTATUS_PIN_LOCKED, SIMSTATUS_PUK_LOCKED)>
			<div class="form-group">
				<div id="apnLabel" class="label">
					<h3><label for="SimMgrApn"> <tmpl_var _("webui", "adv_sim_manager_apn_label")></label></h3>
				</div>
				<tmpl_if showApnDropdown>
					<div class="input">
						<select name="SimMgrApn" id="SimMgrApn" onchange="APNChange()" <tmpl_unless isSimReady> disabled="disabled"</tmpl_unless><tmpl_if SimMgrApnLocked> disabled="disabled"</tmpl_if><tmpl_if isLocked> disabled="disabled"</tmpl_if> maxlength="62">			<tmpl_include "apn_dropdown_options.tmpl">
						</select>
						<tmpl_if SimMgrApnError>
							<div class="inline_error">
								<tmpl_var SimMgrApnError>
							</div>
						</tmpl_if>
					</div>
					<div class="form-group">
						<div class="label" id="AddApn" >
							<label for="addApn"><tmpl_var _("webui", "adv_sim_manager_Add_apn_label")></label>
						</div>
						<div class="input" id="inputAddApn">
							<input type="text" name="AddSimMgrApn" id="AddSimMgrApn" <tmpl_unless isSimReady> disabled="disabled"</tmpl_unless> <tmpl_if SimMgrApnLocked> disabled="disabled"</tmpl_if> <tmpl_if isLocked> disabled="disabled"</tmpl_if> maxlength="62" value="<tmpl_var AddSimMgrApn>"<tmpl_if AddSimMgrApnError> class="error"</tmpl_if> />
							<tmpl_if AddSimMgrApnError>
								<div class="inline_error">  
									<tmpl_var AddSimMgrApnError>
								</div>
							</tmpl_if>
						</div>
					</div>
				<tmpl_else>					
					<div class="input">
						<input type="text" name="SimMgrApn" id="SimMgrApn" <tmpl_if SimMgrApnLocked>disabled="disabled"</tmpl_if><tmpl_if isLocked>disabled="disabled"</tmpl_if> <tmpl_if IN_SET(simStatusValue, SIMSTATUS_PIN_LOCKED, SIMSTATUS_PUK_LOCKED)> disabled="disabled" </tmpl_if>  maxlength="62" value="<tmpl_var SimMgrApn>" />
					</div>
					<div class="inline_error">
						<tmpl_if SimMgrApnError>
							<tmpl_var SimMgrApnError>
						</tmpl_if>
					</div>   
				</tmpl_if>                 
			</div>
			<tmpl_if showApnAuthentication>
				<div class="form-group">
					<div class="label">
						<h4><label for="SimMgrApnProfileAuthentication" > <tmpl_var _("webui", "adv_sim_manager_authentication_label")></label></h4>
					</div>
					<div class="input">
						<div id="SimMgrApnProfileAuthenticationOptionsHolder">
							<select name="SimMgrApnProfileAuthentication" id="SimMgrApnProfileAuthentication" <tmpl_if IN_SET(simStatusValue, SIMSTATUS_PIN_LOCKED, SIMSTATUS_PUK_LOCKED)> disabled="disabled" </tmpl_if>>
								<tmpl_include "authentication_options.tmpl">
							</select>
						</div>
					</div>
				</div>
				<div class="form-group" id="SimMgrApnProfileUsernameRow">
					<div class="label">
						<h4><label for="SimMgrApnProfileUsername"> <tmpl_var _("webui", "adv_sim_manager_username_label")></label></h4>
					</div>
					<div class="input">
						<input type="text" name="SimMgrApnProfileUsername" id="SimMgrApnProfileUsername" <tmpl_if IN_SET(simStatusValue, SIMSTATUS_PIN_LOCKED, SIMSTATUS_PUK_LOCKED)> disabled="disabled" </tmpl_if> maxlength="64" value="<tmpl_var SimMgrApnProfileUsername>" <tmpl_if SimMgrApnProfileUsernameError> class="error"</tmpl_if>/>	
					</div>
					<tmpl_if SimMgrApnProfileUsernameError>
						<div class="inline_error">
							<tmpl_var SimMgrApnProfileUsernameError>
						</div>
					</tmpl_if>
				</div>					
				<div class="form-group" id="SimMgrApnProfilePasswordRow">
					<div class="label">
						<h4><label for="SimMgrApnProfilePassword"> <tmpl_var _("webui", "adv_sim_manager_password_label")></label></h4>
					</div>
					<div class="input">
						<input type="password" name="SimMgrApnProfilePassword" id="SimMgrApnProfilePassword" <tmpl_if IN_SET(simStatusValue, SIMSTATUS_PIN_LOCKED, SIMSTATUS_PUK_LOCKED)> disabled="disabled" </tmpl_if>maxlength="64"value="<tmpl_var SimMgrApnProfilePassword>" <tmpl_if SimMgrApnProfilePasswordError> class="error"</tmpl_if> />
						<span toggle='#SimMgrApnProfilePassword' class='btn eye toggle-password'></span>
					</div>
					<tmpl_if SimMgrApnProfilePasswordError>
						<div class="inline_error">
							<tmpl_var SimMgrApnProfilePasswordError>
						</div>
					</tmpl_if>
				</div>
			</tmpl_if>
			<tmpl_if showPdpType>
				<div class="form-group">
					<div id="pdpLabel" class="label">
						<label for="pdpType"><tmpl_var _("webui", "adv_sim_manager_pdp_type_label")></label>
					</div>
					<div class="input">						
						<select name="PDPType" id="PDPType">
							<option value="IPV4" <tmpl_if IN_SET(PDPType, "IPV4" )>selected="selected"</tmpl_if>>IPv4</option>
							<option value="IPV6" <tmpl_if IN_SET(PDPType, "IPV6" )>selected="selected"</tmpl_if> >IPv6</option>
							<option value="IPV4V6" <tmpl_if IN_SET(PDPType, "IPV4V6" )>selected="selected"</tmpl_if>>IPv4/IPv6</option>									
						</select> 								
					</div>
				</div>
			</tmpl_if>
		</tmpl_if>
		<fieldset id="simPinInput" class="last">
			<tmpl_if IN_SET(simStatusValue, SIMSTATUS_PIN_LOCKED)>
				<div class="table">
					<tmpl_if SIMPinCurrentShow>
						<div class="form-group clearfix">
								<label for="SIMPinCurrent">
									<tmpl_if showToolTip>
										<div class="tooltip tooltip-help" title="<tmpl_var _('webui', 'adv_sim_manager_enter_current_pin_tool_tip_text')>">
											<tmpl_var _("webui", "webui_inline_help_icon")>
										</div>
									</tmpl_if>
								<tmpl_var _("webui", "adv_sim_manager_enter_current_pin_label")></label>
								<input type="text" class="pin" maxlength="8" id="SIMPinCurrent" name="SIMPinCurrent"<tmpl_if SIMPinCurrentError> class="error"</tmpl_if> <tmpl_if SIMPinCurrentLocked> disabled="disable"</tmpl_if>/>
						</div>
						<div class="help">
							<tmpl_var _("webui", "adv_sim_manager_default_pin_help_text")>
						</div>
						<tmpl_if SIMPinCurrentError>
							<div class="inline_error">
								<tmpl_var SIMPinCurrentError>
							</div>
						</tmpl_if>
					</tmpl_if>
				</div><!-- /.table-->
				<p class="error">
					<span id="simPinCounter"><tmpl_var simPinCounter></span><tmpl_var _("webui", "adv_sim_manager_invalid_pin_counter_text")>
				</p>
				<p class="warning">
					<tmpl_udf GET_PO_TEXT("adv_sim_manager_invalid_pin_warning_text", gProductName)>
				</p>
			</tmpl_if>
			<tmpl_if IN_SET(simStatusValue, SIMSTATUS_PUK_LOCKED)>
				<div class="table">
					<tmpl_if SIMPukCurrentShow>
							<div class="form-group clearfix">
								<label for="SIMPukCurrent">
									<tmpl_var _("webui", "adv_sim_manager_puk_code_label" )>
								</label>
								<input type="text" class="puk" maxlength="8" id="SIMPukCurrent" name="SIMPukCurrent" <tmpl_if
									SIMPukCurrentLocked> disabled="disabled"
						</tmpl_if>
						<tmpl_if SIMPukCurrentError> class="error"</tmpl_if> />
						<tmpl_if SIMPukCurrentError>
							<div class="inline_error">
								<tmpl_var SIMPukCurrentError>
							</div>
						</tmpl_if>
						</div>
					</tmpl_if>
					<tmpl_if SIMPinNewShow>
						<div class="form-group clearfix">
							<label for="SIMPinNew"><tmpl_var _("webui", "adv_sim_manager_new_pin_label")></label>
								<input type="text" class="pin" maxlength="8" id="SIMPinNew" name="SIMPinNew"<tmpl_if SIMPinNewError> class="error"</tmpl_if> <tmpl_if SIMPinNewLocked> disabled="disabled" </tmpl_if>/>
							<tmpl_if SIMPinNewError>
								<div class="inline_error">
									<tmpl_var SIMPinNewError>
								</div>
							</tmpl_if>
						</div>
					</tmpl_if>
					<tmpl_if SIMPinNewConfirmShow>
						<div class="form-group clearfix">
							<div class="label">
								<label for="SIMPinNewConfirm"><tmpl_var _("webui", "adv_sim_manager_confirm_new_pin_label")></label>
							</div>
							<div class="input">
								<input type="text" class="pin" maxlength="8" id="SIMPinNewConfirm" name="SIMPinNewConfirm"<tmpl_if SIMPinNewConfirmLocked> disabled="disabled" </tmpl_if><tmpl_if SIMPinNewConfirmError> class="error"</tmpl_if> />
							</div>
							<tmpl_if SIMPinNewConfirmError>
								<div class="inline_error">
									<tmpl_var SIMPinNewConfirmError>
								</div>
							</tmpl_if>
						</div>
					</tmpl_if>
				</div><!-- /.table-->
				<div class="error">
					<p>
						<span id="simPukCounter"><tmpl_var simPukCounter></span><tmpl_var _("webui", "adv_sim_manager_invalid_puk_counter_text")>
					</p>
				</div>
				<p class="warning">
					<tmpl_var _("webui", "adv_sim_manager_invalid_puk_warning_text")>
				</p>
			</tmpl_if>
			<tmpl_if IN_SET(simStatusValue, SIMSTATUS_READY)>
				<div class="table">
					<tmpl_if SIMPinActionShow>
						<div class="form-group clearfix">
							<div class="label">
								<label for="SIMPinAction"><tmpl_var _("webui", "adv_sim_manager_desired_action_label")></label>
							</div>
							<div class="input">
								<select name="SIMPinAction" id="SIMPinAction"<tmpl_if SIMPinActionError> class="error"</tmpl_if><tmpl_if SIMPinActionLocked> disabled="disabled" </tmpl_if>>
									<option value="selectOption"><tmpl_var _("webui", "adv_sim_manager_select_option_text")></option>
									<option value="enablePinLock"><tmpl_var _("webui", "adv_sim_manager_enable_pin_lock_option")></option>
								</select>
							</div>
							<tmpl_if SIMPinActionError>
								<div class="inline_error">
									<tmpl_var SIMPinActionError>
								</div>
							</tmpl_if>
						</div>
					</tmpl_if>
					<tmpl_if SIMPinCurrentShow>
						<div class="form-group clearfix currentPin" style="display:none;">
								<label for="SIMPinCurrent"><tmpl_if showToolTip>
									<div class="tooltip tooltip-help" title="<tmpl_var _('webui', 'adv_sim_manager_enter_current_pin_tool_tip_text')>">
										<tmpl_var _("webui", "webui_inline_help_icon")>
									</div>
								</tmpl_if> <tmpl_var _("webui", "adv_sim_manager_current_pin_label")></label>
								<input type="text" class="pin" maxlength="8" id="SIMPinCurrent" name="SIMPinCurrent"<tmpl_if SIMPinCurrentLocked> disabled="disabled" </tmpl_if><tmpl_if SIMPinCurrentError> class="error"</tmpl_if> />
							<div class="help">
								<tmpl_var _("webui", "adv_sim_manager_default_pin_help_text")>
							</div>
							<tmpl_if SIMPinCurrentError>
								<div class="inline_error">
									<tmpl_var SIMPinCurrentError>
								</div>
							</tmpl_if>
						</div>
					</tmpl_if>
					<tmpl_if SIMPinNewShow>
						<div class="form-group clearfix changePin" style="display:none;">
							<div class="label">
								<label for="SIMPinNew"><tmpl_var _("webui", "adv_sim_manager_new_pin_label")></label>
							</div>
							<div class="input">
								<input type="text" class="pin" maxlength="8" id="SIMPinNew" name="SIMPinNew"<tmpl_if SIMPinNewLocked> disabled="disabled" </tmpl_if><tmpl_if SIMPinNewError> class="error"</tmpl_if> />
							</div>
							<tmpl_if SIMPinNewError>
								<div class="inline_error">
									<tmpl_var SIMPinNewError>
								</div>
							</tmpl_if>
						</div>
					</tmpl_if>
					<tmpl_if SIMPinNewConfirmShow>
						<div class="form-group clearfix changePin" style="display:none;">
							<div class="label">
								<label for="SIMPinNewConfirm"><tmpl_var _("webui", "adv_sim_manager_confirm_new_pin_label")></label>
							</div>
							<div class="input">
								<input type="text" class="pin" maxlength="8" id="SIMPinNewConfirm" name="SIMPinNewConfirm"<tmpl_if SIMPinNewConfirmLocked> disabled="disabled" </tmpl_if><tmpl_if SIMPinNewConfirmError> class="error"</tmpl_if> />
							</div>
							<tmpl_if SIMPinNewConfirmdError>
								<div class="inline_error">
									<tmpl_var SIMPinNewConfirmError>
								</div>
							</tmpl_if>
						</div>
					</tmpl_if>
				</div><!-- /.table-->
				<p class="error">
					<span id="simPinCounter2"><tmpl_var simPinCounter></span><tmpl_var _("webui", "adv_sim_manager_invalid_pin_counter_text")>
				</p>
				<p class="warning">
					<tmpl_udf GET_PO_TEXT("adv_sim_manager_invalid_pin_warning_text", gProductName)>
				</p>
			</tmpl_if>
			<tmpl_if IN_SET(simStatusValue, SIMSTATUS_UNLOCKED)>
				<div class="table">
					<tmpl_if SIMPinActionShow>
						<div class="form-group clearfix">
							<div class="label">
								<label for="SIMPinAction"><tmpl_var _("webui", "adv_sim_manager_desired_action_label")></label>
							</div>
							<div class="input">
								<select name="SIMPinAction" id="SIMPinAction"<tmpl_if SIMPinActionLocked> disabled="disabled"</tmpl_if><tmpl_if SIMPinActionError> class="error"</tmpl_if>>
									<option value="selectOption"><tmpl_var _("webui", "adv_sim_manager_select_option_text")></option>
									<option value="disablePinLock"><tmpl_var _("webui", "adv_sim_manager_disable_pin_option")></option>
									<option value="changePin" <tmpl_if isChangePin>  selected="selected"</tmpl_if>><tmpl_var _("webui", "adv_sim_manager_change_pin_option")></option>
								</select>
							</div>
						</div>
					</tmpl_if>
					<tmpl_if SIMPinCurrentShow>
						<div class="form-group clearfix currentPin" <tmpl_unless isChangePin> style="display:none;"</tmpl_unless>>
							<div class="label">
								<tmpl_if showToolTip>
									<div class="tooltip tooltip-help" title="<tmpl_var _('webui', 'adv_sim_manager_enter_current_pin_tool_tip_text')>">
										<tmpl_var _("webui", "webui_inline_help_icon")>
									</div>
									</tmpl_if>
								<label for="SIMPinCurrent"><tmpl_var _("webui", "adv_sim_manager_enter_current_pin_label")></label>
							</div>
							<div class="input">
								<input type="text" class="pin" maxlength="8" id="SIMPinCurrent" name="SIMPinCurrent"<tmpl_if SIMPinCurrentLocked> disabled="disabled"</tmpl_if><tmpl_if SIMPinCurrentError> class="error"</tmpl_if> />
							</div>
							<div class="help">
								<tmpl_var _("webui", "adv_sim_manager_default_pin_help_text")>
							</div>
							<tmpl_if SIMPinCurrentError>
								<div class="inline_error">
									<tmpl_var SIMPinCurrentError>
								</div>
							</tmpl_if>
						</div>
					</tmpl_if>
					<tmpl_if SIMPinNewShow>
						<div class="form-group clearfix changePin"<tmpl_unless isChangePin> style="display:none;"</tmpl_unless>>
							<div class="label">
								<label for="SIMPinNew"><tmpl_var _("webui", "adv_sim_manager_new_pin_label")></label>
							</div>
							<div class="input">
								<input type="text" class="pin" maxlength="8" id="SIMPinNew" name="SIMPinNew"<tmpl_if SIMPinNewLocked> disabled="disabled"</tmpl_if><tmpl_if SIMPinNewError> class="error"</tmpl_if> />
							</div>
							<tmpl_if SIMPinNewError>
								<div class="inline_error">
									<tmpl_var SIMPinNewError>
								</div>
							</tmpl_if>
						</div>
					</tmpl_if>
					<tmpl_if SIMPinNewConfirmShow>
						<div class="form-group clearfix changePin"<tmpl_unless isChangePin> style="display:none;"</tmpl_unless>>
							<div class="label">
								<label for="confirmNewPinLocked"><tmpl_var _("webui", "adv_sim_manager_confirm_new_pin_label")></label>
							</div>
							<div class="input">
								<input type="text" class="pin" maxlength="8" id="SIMPinNewConfirm" name="SIMPinNewConfirm"<tmpl_if SIMPinNewConfirmLocked> disabled="disabled"</tmpl_if><tmpl_if SIMPinNewConfirmError> class="error"</tmpl_if> />
							</div>
							<tmpl_if SIMPinNewConfirmError>
								<div class="inline_error">
									<tmpl_var SIMPinNewConfirmError>
								</div>
							</tmpl_if>
						</div>
					</tmpl_if>
				</div><!-- /.table-->
				<p class="error">
					<span id="simPinCounter2"><tmpl_var simPinCounter></span><tmpl_var _("webui", "adv_sim_manager_invalid_pin_counter_text")>
				</p>
				<p class="warning">
					<tmpl_udf GET_PO_TEXT("adv_sim_manager_invalid_pin_warning_text", gProductName)>
				</p>
			</tmpl_if>			
		</fieldset>
		<tmpl_if IN_SET(simStatusValue, SIMSTATUS_UNLOCKED, SIMSTATUS_READY, SIMSTATUS_PUK_LOCKED, SIMSTATUS_PIN_LOCKED)>
			<div class="button_container  align-field clearfix">
				<button type="submit" class="primary"<tmpl_if isLocked> disabled="disabled"</tmpl_if>>
					<tmpl_var _("webui", "webui_save_button")>
				</button>
			</div>
		</tmpl_if>
	</form>
</tmpl_if>
