var modalPopup=function(){var t,o={};return o.createWindow=function(o,i,n,e,a,d,l,c){var s=o?"modalPopup":"modalPopup noTitle",r="string"==typeof o?$("<i/>").html(o).text():o;d=d||function(){},l=l||function(){};var u=a||[],f=[],g=void 0===c||c;$.each(u,function(t){var o=this.trigger||function(){},i=$("<i/>").html(this.text).text();f[t]={text:i,class:this.className,click:function(){o(),$(this).dialog("destroy").remove()}}}),t=$("<div></div>").append(i).dialog({modal:!0,resizable:!1,dialogClass:s,width:n,height:e,title:r,draggable:!1,buttons:f,closeOnEscape:g,open:function(){d(),$(this).parent().find("button.primary").focus()},close:function(){l(),$(this).dialog("destroy").remove()}})},o.loadPage=function(o,i,n,e,a,d,l,c){n=n||900,e=e||700,a=a||function(){},d=d||function(){},l=l||function(){};var s=void 0===c||c;$.get(i,function(i){$("#dialog").html(i),t=$("<div></div>").append(i).dialog({modal:!0,resizable:!1,width:n,height:e,title:o,draggable:!1,closeOnEscape:s,open:function(){d()},close:function(){$(this).dialog("destroy").remove(),l()}}),a()})},o.destroyWindow=function(){$(t).dialog("destroy").remove()},o}();